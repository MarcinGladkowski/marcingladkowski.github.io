{"componentChunkName":"component---src-templates-post-jsx","path":"/name-and-tag/","result":{"data":{"site":{"siteMetadata":{"title":"marcingladkowski.com"}},"markdownRemark":{"id":"d572f014-1e56-57ef-9f3a-d439e89a35a0","excerpt":"When a child birth one of the first thing is give a name! You should do the same with yours images! Why I writing about this ? \nIf you are not becarefule with images names and tags you can do the mes…","html":"<p>When a child birth one of the first thing is give a name! You should do the same with yours images! Why I writing about this ?\nIf you are not becarefule with images names and tags you can do the mess with our local docker images storage. Sometimes you\nhave to prepare different images for some features/branches/deploys.</p>\n<p>Let's prepare our dockerized website.</p>\n<p><em>Website:</em></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Title<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello World<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><em>Image to run container responsible for displaing it:</em></p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> nginx</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> index.html /usr/share/nginx/html/index.html</span></code></pre></div>\n<p>OK, It's time to building. Build first version by command <code class=\"language-text\">docker build .</code> Then we want to something change in the our website and build again by <code class=\"language-text\">build</code> command. Which images we have ?</p>\n<p><em>Console output:</em></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">root@local:~/project$ <span class=\"token function\">docker</span> images\nREPOSITORY   TAG       IMAGE ID       CREATED              SIZE\n<span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>       <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>    c8af32463c20   <span class=\"token number\">5</span> seconds ago        141MB\n<span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>       <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>    f1663715c693   About a minute ago   141MB\nnginx        latest    605c77e624dd   <span class=\"token number\">8</span> days ago           141MB</code></pre></div>\n<p>As you see there are a <code class=\"language-text\">&lt;none></code> words. It's not helpful when you want to pick up specific image.\nWhy we have images without <strong>REPOSITORY</strong> and <strong>TAG</strong> ? It's caused by build image without <code class=\"language-text\">-t</code> option These images were built by command <code class=\"language-text\">docker build .</code> How we can fix it or how we can build images ? Firstival we can <code class=\"language-text\">tag</code> image after build by command <code class=\"language-text\">docker tag</code>. </p>\n<p>For example <code class=\"language-text\">docker tag f1663715c693 website:1.0</code> and <code class=\"language-text\">docker tag f1663715c693 website:1.2</code>.</p>\n<p><em>Console output</em></p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">root@local:~/project$ <span class=\"token function\">docker</span> images\nREPOSITORY   TAG       IMAGE ID       CREATED          SIZE\n<span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>       <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>    c8af32463c20   <span class=\"token number\">16</span> minutes ago   141MB\nwebsite      <span class=\"token number\">1.2</span>       c8af32463c20   <span class=\"token number\">21</span> minutes ago   141MB\nwebsite      <span class=\"token number\">1.0</span>       f1663715c693   <span class=\"token number\">22</span> minutes ago   141MB\nnginx        latest    605c77e624dd   <span class=\"token number\">8</span> days ago       141MB</code></pre></div>\n<p>But this needs from us additional action. Remember, we can do it while building an new image. </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> website:1.3 <span class=\"token builtin class-name\">.</span></code></pre></div>\n<p>Very interesting option is adding multiple specific tags at once. The case with <code class=\"language-text\">latest</code> is very helpful to tag a version of image and set it at latest. </p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> website:1.3 <span class=\"token parameter variable\">-t</span> website:latest <span class=\"token builtin class-name\">.</span></code></pre></div>\n<p>Full documentation about tagging we can find on <a href=\"https://docs.docker.com/engine/reference/commandline/tag\">https://docs.docker.com/engine/reference/commandline/tag</a>.  </p>","frontmatter":{"title":"Give the name and... tag","date":"January 06, 2022","update":"January 06, 2022","tags":["docker"],"series":null},"fields":{"slug":"/name-and-tag/","readingTime":{"minutes":1.77}}},"seriesList":{"edges":[{"node":{"id":"fbead475-1ba0-55c1-986f-e636f28e63e5","fields":{"slug":"/hello-world/"},"frontmatter":{"title":"Hello world"}}},{"node":{"id":"b247cc5e-3da6-544b-b0e2-b2b7081dd265","fields":{"slug":"/warsawjs-desing-patterns/"},"frontmatter":{"title":"WarsawJs 44 Design patterns"}}},{"node":{"id":"2f6d3669-649d-541e-b324-5397c1ed832e","fields":{"slug":"/about/"},"frontmatter":{"title":"About"}}},{"node":{"id":"59d715d7-36ae-5ec5-a484-8ca5a0eb161f","fields":{"slug":"/bash-training/"},"frontmatter":{"title":"Bash training"}}},{"node":{"id":"bfb5e441-259b-507c-943b-881fd3618102","fields":{"slug":"/bash-training-2/"},"frontmatter":{"title":"Bash training 2"}}},{"node":{"id":"a6c91e31-894a-5e8f-ba50-e7a6081eab36","fields":{"slug":"/summary-2020-plans-for-2021/"},"frontmatter":{"title":"Summary 2020 - plans for 2021"}}},{"node":{"id":"40af6e55-c278-52db-9981-7ece21619c6e","fields":{"slug":"/clean-code-workshop/"},"frontmatter":{"title":"Clean Code workshop"}}},{"node":{"id":"2279682f-3431-5a9b-8232-951fdd913ad3","fields":{"slug":"/python-crash-course/"},"frontmatter":{"title":"Python Crash Course (2nd Edition)"}}},{"node":{"id":"4f5acb7d-1be8-5337-91ab-d6732173e6bc","fields":{"slug":"/simple-object-factory/"},"frontmatter":{"title":"Simple test object factory"}}},{"node":{"id":"3905c451-c52c-580d-9ec8-17379728624e","fields":{"slug":"/where-is-TDD/"},"frontmatter":{"title":"Symfony where is your TDD?"}}},{"node":{"id":"d572f014-1e56-57ef-9f3a-d439e89a35a0","fields":{"slug":"/name-and-tag/"},"frontmatter":{"title":"Give the name and... tag"}}},{"node":{"id":"3a65e50e-87c3-5238-8d14-73e8b69bc3d6","fields":{"slug":"/dw_gym/"},"frontmatter":{"title":"DW Gym - 3 day python challenge"}}},{"node":{"id":"33f95501-bf18-5efa-b9f6-e99ad13bcbde","fields":{"slug":"/symfony-fast-track/"},"frontmatter":{"title":"Symfony Fast Track"}}},{"node":{"id":"d7aa9d73-ab79-5e13-a792-7dc7f77ff0a4","fields":{"slug":"/step-functions-workshop/"},"frontmatter":{"title":"The next step is... AWS Step Functions"}}},{"node":{"id":"0e48ed0c-03da-5695-8ece-d6ec65483624","fields":{"slug":"/phpcon-2022/"},"frontmatter":{"title":"PHPcon Poland 2022"}}},{"node":{"id":"14f466b9-a43e-519e-bca2-7629fb958048","fields":{"slug":"/architecture-hard-parts/"},"frontmatter":{"title":"Compromises"}}},{"node":{"id":"638f6751-4908-5a99-98e4-48eb1eeb4fa3","fields":{"slug":"/kafka-meetup/"},"frontmatter":{"title":"Meetup Kafka Kraków"}}}]},"previous":{"fields":{"slug":"/where-is-TDD/"},"frontmatter":{"title":"Symfony where is your TDD?"}},"next":{"fields":{"slug":"/dw_gym/"},"frontmatter":{"title":"DW Gym - 3 day python challenge"}}},"pageContext":{"id":"d572f014-1e56-57ef-9f3a-d439e89a35a0","series":null,"previousPostId":"3905c451-c52c-580d-9ec8-17379728624e","nextPostId":"3a65e50e-87c3-5238-8d14-73e8b69bc3d6"}},"staticQueryHashes":[],"slicesMap":{}}